$color-bg: #fde3a7
$book-color-bg: lighten($color-bg, 20%)
$book-color-border: lighten(#000, 85%)
$book-border: 1px solid $book-color-border

%book-rounded-corners 
  border-top-right-radius: 5px
  border-bottom-right-radius: 5px

.book
  @extend %book-rounded-corners
  cursor: pointer
  display: block
  width: 9rem
  height: 13rem
  position: relative
  background: $book-color-bg 
  z-index: 1
  box-shadow: 0 2px 4px 0 rgba(#000, .1), 0 9px 20px 0 rgba(#000, .25)
  overflow: hidden
  transition: box-shadow .3s linear
  

  & > a > picture > img 
    @extend %book-rounded-corners
    width: 9rem
    height: 13rem
    transform-origin: 0 50%
    transform: rotateY(0)
    transition: all .45s ease

  &:hover 
    box-shadow: 0 2px 4px 0 rgba(#000, .25), 0 9px 20px 0 rgba(#000, .45)

    & > a > picture > img 
      transform: rotateY(-30deg)
      box-shadow: 1px 1px 5px 5px rgba(#000, .2)

  &::after,
  &::before 
    @extend %book-rounded-corners
    content: ''
    display: block
    width: inherit
    height: inherit
    position: absolute
    z-index: -1
    top: 0
    background: $book-color-bg
    border: $book-border

  &::before 
    left: -3px

  &::after 
    left: -6px

.music-link
    position: relative
    height: 5rem
    width: 5rem
    border-radius: 50%
    box-shadow: 0px 0px 20px 5px rgba(0, 0, 0, 0.1)
    transform: scale(1)
    transition: all .5s ease
    background-position: center
    background-repeat: no-repeat
    background-size: cover

    img:hover
      transform:  rotate(360deg)

.music-link::after
    content: ''
    position: absolute
    top: calc(52% - 0.1rem)
    left: calc(52% - 0.1rem)
    width: 1rem
    height: 1rem
    background-color: #fff
    border-radius: 50%
    z-index: 5
    transform: translate(-50%, -50%)

.music-link img:hover
    animation: spin 5s linear infinite

@keyframes spin
    0%
        transform: rotate(0deg)
    100%
        transform: rotate(360deg)
